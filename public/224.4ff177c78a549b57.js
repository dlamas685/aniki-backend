"use strict";(self.webpackChunkanime_list=self.webpackChunkanime_list||[]).push([[224],{2224:(K,h,s)=>{s.r(h),s.d(h,{AuthModule:()=>O});var p=s(9808),I=s(6267),m=s(3634),r=s(2382),e=s(5e3),Z=s(6518),b=s(9133),x=s(1424),v=s(845),T=s(5787);function A(i,o){1&i&&(e.TgZ(0,"small",15),e._uU(1,"Por favor, ingrese un nombre de usuario."),e.qZA())}function U(i,o){1&i&&(e.TgZ(0,"small",15),e._uU(1,"Por favor, ingrese su contrase\xf1a."),e.qZA())}const y=function(i){return{"ng-invalid ng-dirty":i}},q=function(){return["/auth/signin"]};let S=(()=>{class i{constructor(t,n,a){this.fb=t,this.authService=n,this.sweetAlertSvc=a,this.miFormulario=this.fb.group({username:["",[r.kI.required]],password:["",[r.kI.required]]})}ngOnInit(){}loginUser(){this.authService.loginUser(this.miFormulario.value).subscribe(t=>{t.success?this.sweetAlertSvc.successAlertLogin(t.msg):this.sweetAlertSvc.errorAlertLogin(t.msg)})}invalidInput(t){var n,a;return(null===(n=this.miFormulario.get(t))||void 0===n?void 0:n.invalid)&&(null===(a=this.miFormulario.get(t))||void 0===a?void 0:a.touched)||!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(Z.e),e.Y36(b.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login"]],decls:28,vars:12,consts:[[1,"p-card-subheader","px-4"],[1,"text-bluegray-800"],[1,"text-bluegray-800","mt-1"],["autocomplete","off",1,"grid","p-card-content","px-4","py-4",3,"formGroup","ngSubmit"],[1,"col-12"],[1,"p-float-label","p-input-icon-left","w-12"],[1,"fa","fa-user"],["formControlName","username","type","text","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],["for","float-input"],["class","p-error block mt-2",4,"ngIf"],[1,"fa-solid","fa-key"],["formControlName","password","type","password","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],[1,"text-orange-500",3,"routerLink"],[1,"col-12","flex","justify-content-end"],["pButton","","pRipple","","type","submit","icon","fa-solid fa-arrow-right-to-bracket","label","Inciar sesi\xf3n",1,"bg-orange-500",3,"disabled"],[1,"p-error","block","mt-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Bienvenido \u{1f44b}"),e.qZA(),e.TgZ(3,"p",2),e._uU(4,"Inicia sesi\xf3n en tu cuenta y comienza la aventura."),e.qZA()(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return n.loginUser()}),e.TgZ(6,"div",4)(7,"span",5),e._UZ(8,"i",6)(9,"input",7),e.TgZ(10,"label",8),e._uU(11,"Usuario"),e.qZA()(),e.YNc(12,A,2,0,"small",9),e.qZA(),e.TgZ(13,"div",4)(14,"span",5),e._UZ(15,"i",10)(16,"input",11),e.TgZ(17,"label",8),e._uU(18,"Contrase\xf1a"),e.qZA()(),e.YNc(19,U,2,0,"small",9),e.qZA(),e.TgZ(20,"div",4)(21,"span",1),e._uU(22,"\xbfNo tienes una cuenta?"),e.qZA(),e.TgZ(23,"a",12)(24,"span"),e._uU(25," Registrarse"),e.qZA()()(),e.TgZ(26,"div",13),e._UZ(27,"button",14),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("formGroup",n.miFormulario),e.xp6(4),e.Q6J("ngClass",e.VKq(7,y,n.invalidInput("username"))),e.xp6(3),e.Q6J("ngIf",n.invalidInput("username")),e.xp6(4),e.Q6J("ngClass",e.VKq(9,y,n.invalidInput("password"))),e.xp6(3),e.Q6J("ngIf",n.invalidInput("password")),e.xp6(4),e.Q6J("routerLink",e.DdM(11,q)),e.xp6(4),e.Q6J("disabled",n.miFormulario.invalid))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,x.o,p.mk,p.O5,m.yS,v.Hq,T.H],encapsulation:2}),i})(),F=(()=>{class i{constructor(){this.usernamePattern="^([a-z]+[0-9]{0,3})",this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.namePattern="([a-zA-Z]+) ([a-zA-Z]+)"}equalFields(t,n){return a=>{var l,u,c,f;return(null===(l=a.get(t))||void 0===l?void 0:l.value)!==(null===(u=a.get(n))||void 0===u?void 0:u.value)?(null===(c=a.get(n))||void 0===c||c.setErrors({equalFields:!0}),{equalFields:!0}):(null===(f=a.get(n))||void 0===f||f.setErrors(null),null)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var g=s(520),_=s(2340),C=s(4004);let w=(()=>{class i{constructor(t){this.http=t,this.baseUrl=_.N.baseUrl}validate(t){const n=t.value,a=`${this.baseUrl}/auth/user`,l=(new g.LE).set("username",n);return this.http.get(a,{params:l}).pipe((0,C.U)(u=>u.success?null:{userExist:!0}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(g.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),k=(()=>{class i{constructor(t){this.http=t,this.baseUrl=_.N.baseUrl}validate(t){const n=t.value,a=`${this.baseUrl}/auth/user`,l=(new g.LE).set("email",n);return this.http.get(a,{params:l}).pipe((0,C.U)(u=>u.success?null:{emailExist:!0}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(g.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var J=s(1208),E=s(5315),N=s(9783);function L(i,o){if(1&i&&(e.TgZ(0,"small",26),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.usernameErrorMsg)}}function M(i,o){if(1&i&&(e.TgZ(0,"small",26),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.nameErrorMsg)}}function Y(i,o){if(1&i&&(e.TgZ(0,"small",26),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.emailErrorMsg)}}function Q(i,o){if(1&i&&(e.TgZ(0,"small",26),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.passwordErrorMsg)}}function z(i,o){1&i&&(e.TgZ(0,"small",26),e._uU(1,"Las contrase\xf1as deben ser iguales."),e.qZA())}function V(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"p-button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().displayModal=!1}),e.qZA()}}const d=function(i){return{"ng-invalid ng-dirty":i}},P=function(){return["/auth/login"]},B=function(){return{width:"50vw"}},D=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"flex","justify-content-center","h-screen","align-items-center","px-4","animate__animated","animate__fadeIn","animate__fast"],[1,"p-card",2,"max-width","500px"],[1,"p-card-header","flex","justify-content-center","align-items-center","px-4","py-4","mb-4"],["src","../../../assets/icons/Fairy-Tail.ico","alt","",1,"mr-2","w-4rem"],[1,"text-bluegray-800","text-4xl","anime-text-logo"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"span",4),e._uU(5,"ANIKI"),e.qZA()(),e._UZ(6,"router-outlet"),e.qZA()())},directives:[m.lC],encapsulation:2}),i})(),children:[{path:"login",component:S},{path:"signin",component:(()=>{class i{constructor(t,n,a,l,u,c){this.fb=t,this.validatorSvc=n,this.validatorUser=a,this.validatorEmail=l,this.authSvc=u,this.sweetAlertSvc=c,this.miFormulario=this.fb.group({username:["",[r.kI.required,r.kI.pattern(this.validatorSvc.usernamePattern),r.kI.minLength(5),r.kI.maxLength(12)],[this.validatorUser]],name:["",[r.kI.required,r.kI.pattern(this.validatorSvc.namePattern)]],email:["",[r.kI.required,r.kI.pattern(this.validatorSvc.emailPattern)],[this.validatorEmail]],password:["",[r.kI.required,r.kI.minLength(6)]],repeatPass:["",[r.kI.required,r.kI.minLength(6)]],conditions:[!1,[r.kI.requiredTrue]]},{validators:this.validatorSvc.equalFields("password","repeatPass")})}get usernameErrorMsg(){var t;const n=null===(t=this.miFormulario.get("username"))||void 0===t?void 0:t.errors;return(null==n?void 0:n.required)?"Por favor, ingrese un nombre de usuario.":(null==n?void 0:n.minlength)?"El nombre de usuario debe tener como m\xednimo 5 c\xe1racteres.":(null==n?void 0:n.maxlength)?"El nombre de usuario no puede tener m\xe1s de 12 c\xe1racteres.":(null==n?void 0:n.pattern)?"El nombre de usuario debe tener el formato especificado.":(null==n?void 0:n.userExist)?"El nombre de usuario ya se encuentra en uso.":""}get nameErrorMsg(){var t;const n=null===(t=this.miFormulario.get("name"))||void 0===t?void 0:t.errors;return(null==n?void 0:n.required)?"Por favor, ingrese su nombre completo.":(null==n?void 0:n.pattern)?"El nombre debe tener el formato especificado.":""}get emailErrorMsg(){var t;const n=null===(t=this.miFormulario.get("email"))||void 0===t?void 0:t.errors;return(null==n?void 0:n.required)?"Por favor, ingrese su email.":(null==n?void 0:n.pattern)?"El email debe tener el formato especificado.":(null==n?void 0:n.emailExist)?"Ya existe un usuario con el correo electronico ingresado.":""}get passwordErrorMsg(){var t;const n=null===(t=this.miFormulario.get("password"))||void 0===t?void 0:t.errors;return(null==n?void 0:n.required)?"Por favor, ingrese una contrase\xf1a para el usuario.":(null==n?void 0:n.minlength)?"La contrase\xf1a debe tener como m\xednimo 6 c\xe1racteres.":""}ngOnInit(){}showModalDialog(){this.displayModal=!0}createUser(){this.authSvc.createUser(this.miFormulario.value).subscribe(t=>{t.success?this.sweetAlertSvc.successAlertLogin(t.msg):this.sweetAlertSvc.errorAlertLogin(t.msg)})}inputInvalid(t){var n,a;return(null===(n=this.miFormulario.get(t))||void 0===n?void 0:n.invalid)&&(null===(a=this.miFormulario.get(t))||void 0===a?void 0:a.touched)||!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(F),e.Y36(w),e.Y36(k),e.Y36(Z.e),e.Y36(b.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-signin"]],decls:57,vars:32,consts:[[1,"p-card-subheader","px-4"],[1,"text-bluegray-800"],["autocomplete","off",1,"grid","p-card-content","px-4","py-4",3,"formGroup"],[1,"col-12"],[1,"p-float-label","p-input-icon-left","w-12"],[1,"fa","fa-user"],["formControlName","username","type","text","pInputText","","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],["for","float-input"],["class","p-error block mt-2",4,"ngIf"],[1,"fa-solid","fa-signature"],["formControlName","name","type","text","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],[1,"fa-solid","fa-at"],["formControlName","email","type","email","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],[1,"fa-solid","fa-key"],["formControlName","password","type","password","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],["formControlName","repeatPass","type","password","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],[1,"col-12","flex","justify-content-end"],[1,"field-checkbox"],["inputId","binary","formControlName","conditions",3,"binary"],["for","binary",1,"text-bluegray-800"],["pButton","","pRipple","","icon","pi pi-external-link",1,"p-button-info","p-button-text","ml-2",3,"click"],[1,"text-orange-500",3,"routerLink"],["pButton","","pRipple","","icon","fa-solid fa-arrow-right-to-bracket","type","button","label","Registrarse",1,"bg-orange-500",3,"disabled","click"],["header","Condiciones",3,"visible","modal","draggable","resizable","visibleChange"],[1,"m-0"],["pTemplate","footer"],[1,"p-error","block","mt-2"],["icon","pi pi-check","type","button","label","Ok","styleClass","p-button-text",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Registrarse para m\xe1s funcionalidades \u{1f680}"),e.qZA()(),e.TgZ(3,"form",2)(4,"div",3)(5,"span",4),e._UZ(6,"i",5)(7,"input",6),e.TgZ(8,"label",7),e._uU(9,"Usuario"),e.qZA()(),e.YNc(10,L,2,1,"small",8),e.qZA(),e.TgZ(11,"div",3)(12,"span",4),e._UZ(13,"i",9)(14,"input",10),e.TgZ(15,"label",7),e._uU(16,"Nombre"),e.qZA()(),e.YNc(17,M,2,1,"small",8),e.qZA(),e.TgZ(18,"div",3)(19,"span",4),e._UZ(20,"i",11)(21,"input",12),e.TgZ(22,"label",7),e._uU(23,"Email"),e.qZA()(),e.YNc(24,Y,2,1,"small",8),e.qZA(),e.TgZ(25,"div",3)(26,"span",4),e._UZ(27,"i",13)(28,"input",14),e.TgZ(29,"label",7),e._uU(30,"Contrase\xf1a"),e.qZA()(),e.YNc(31,Q,2,1,"small",8),e.qZA(),e.TgZ(32,"div",3)(33,"span",4),e._UZ(34,"i",13)(35,"input",15),e.TgZ(36,"label",7),e._uU(37,"Repetir contrase\xf1a"),e.qZA()(),e.YNc(38,z,2,0,"small",8),e.qZA(),e.TgZ(39,"div",16)(40,"div",17),e._UZ(41,"p-checkbox",18),e.TgZ(42,"label",19),e._uU(43," T\xe9rminos y condiciones "),e.qZA(),e.TgZ(44,"button",20),e.NdJ("click",function(){return n.showModalDialog()}),e.qZA()()(),e.TgZ(45,"div",3)(46,"span",1),e._uU(47,"\xbfYa tienes una cuenta?"),e.qZA(),e.TgZ(48,"a",21)(49,"span"),e._uU(50," Iniciar sesi\xf3n"),e.qZA()()(),e.TgZ(51,"div",16)(52,"button",22),e.NdJ("click",function(){return n.createUser()}),e.qZA()()(),e.TgZ(53,"p-dialog",23),e.NdJ("visibleChange",function(l){return n.displayModal=l}),e.TgZ(54,"p",24),e._uU(55,"No hay no existen, solo gozalo!!"),e.qZA(),e.YNc(56,V,1,0,"ng-template",25),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.miFormulario),e.xp6(4),e.Q6J("ngClass",e.VKq(20,d,n.inputInvalid("username"))),e.xp6(3),e.Q6J("ngIf",n.inputInvalid("username")),e.xp6(4),e.Q6J("ngClass",e.VKq(22,d,n.inputInvalid("name"))),e.xp6(3),e.Q6J("ngIf",n.inputInvalid("name")),e.xp6(4),e.Q6J("ngClass",e.VKq(24,d,n.inputInvalid("email"))),e.xp6(3),e.Q6J("ngIf",n.inputInvalid("email")),e.xp6(4),e.Q6J("ngClass",e.VKq(26,d,n.inputInvalid("password"))),e.xp6(3),e.Q6J("ngIf",n.inputInvalid("password")),e.xp6(4),e.Q6J("ngClass",e.VKq(28,d,n.inputInvalid("repeatPass"))),e.xp6(3),e.Q6J("ngIf",n.inputInvalid("repeatPass")),e.xp6(3),e.Q6J("binary",!0),e.xp6(7),e.Q6J("routerLink",e.DdM(30,P)),e.xp6(4),e.Q6J("disabled",n.miFormulario.invalid||n.miFormulario.pending),e.xp6(1),e.Akn(e.DdM(31,B)),e.Q6J("visible",n.displayModal)("modal",!0)("draggable",!1)("resizable",!1))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,x.o,p.mk,p.O5,J.XZ,v.Hq,T.H,m.yS,E.V,N.jx,v.zx],encapsulation:2}),i})()},{path:"**",redirectTo:"login"}]}];let H=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.Bz.forChild(D)],m.Bz]}),i})(),O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[p.ez,H,r.UX,I.H]]}),i})()}}]);