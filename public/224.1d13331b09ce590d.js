"use strict";(self.webpackChunkanime_list=self.webpackChunkanime_list||[]).push([[224],{2224:(G,h,s)=>{s.r(h),s.d(h,{AuthModule:()=>O});var p=s(9808),C=s(6267),d=s(3634),o=s(2382),e=s(5e3),Z=s(6518),b=s(9133),x=s(1424),v=s(845),T=s(5787);function U(n,r){1&n&&(e.TgZ(0,"small",15),e._uU(1,"Por favor, ingrese un nombre de usuario."),e.qZA())}function q(n,r){1&n&&(e.TgZ(0,"small",15),e._uU(1,"Por favor, ingrese su contrase\xf1a."),e.qZA())}const _=function(n){return{"ng-invalid ng-dirty":n}},I=function(){return["/auth/signin"]};let F=(()=>{class n{constructor(i,t,a){this.fb=i,this.authService=t,this.sweetAlertSvc=a,this.miFormulario=this.fb.group({username:["",[o.kI.required]],password:["",[o.kI.required]]})}ngOnInit(){}loginUser(){this.authService.loginUser(this.miFormulario.value).subscribe(i=>{i.success?this.sweetAlertSvc.successAlertLogin(i.msg):this.sweetAlertSvc.errorAlertLogin(i.msg)})}invalidInput(i){var t,a;return(null===(t=this.miFormulario.get(i))||void 0===t?void 0:t.invalid)&&(null===(a=this.miFormulario.get(i))||void 0===a?void 0:a.touched)||!1}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(o.qu),e.Y36(Z.e),e.Y36(b.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:28,vars:12,consts:[[1,"p-card-subheader","px-4"],[1,"text-bluegray-800"],[1,"text-bluegray-800","mt-1"],["autocomplete","off",1,"grid","p-card-content","px-4","py-4",3,"formGroup","ngSubmit"],[1,"col-12"],[1,"p-float-label","p-input-icon-left","w-12"],[1,"fa","fa-user"],["formControlName","username","type","text","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],["for","float-input"],["class","p-error block mt-2",4,"ngIf"],[1,"fa-solid","fa-key"],["formControlName","password","type","password","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],[1,"text-orange-500",3,"routerLink"],[1,"col-12","flex","justify-content-end"],["pButton","","pRipple","","type","submit","icon","fa-solid fa-arrow-right-to-bracket","label","Iniciar sesi\xf3n",1,"bg-orange-500",3,"disabled"],[1,"p-error","block","mt-2"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Bienvenido \u{1f44b}"),e.qZA(),e.TgZ(3,"p",2),e._uU(4,"Inicia sesi\xf3n en tu cuenta y comienza la aventura."),e.qZA()(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return t.loginUser()}),e.TgZ(6,"div",4)(7,"span",5),e._UZ(8,"i",6)(9,"input",7),e.TgZ(10,"label",8),e._uU(11,"Usuario"),e.qZA()(),e.YNc(12,U,2,0,"small",9),e.qZA(),e.TgZ(13,"div",4)(14,"span",5),e._UZ(15,"i",10)(16,"input",11),e.TgZ(17,"label",8),e._uU(18,"Contrase\xf1a"),e.qZA()(),e.YNc(19,q,2,0,"small",9),e.qZA(),e.TgZ(20,"div",4)(21,"span",1),e._uU(22,"\xbfNo tienes una cuenta?"),e.qZA(),e.TgZ(23,"a",12)(24,"span"),e._uU(25," Registrarse"),e.qZA()()(),e.TgZ(26,"div",13),e._UZ(27,"button",14),e.qZA()()),2&i&&(e.xp6(5),e.Q6J("formGroup",t.miFormulario),e.xp6(4),e.Q6J("ngClass",e.VKq(7,_,t.invalidInput("username"))),e.xp6(3),e.Q6J("ngIf",t.invalidInput("username")),e.xp6(4),e.Q6J("ngClass",e.VKq(9,_,t.invalidInput("password"))),e.xp6(3),e.Q6J("ngIf",t.invalidInput("password")),e.xp6(4),e.Q6J("routerLink",e.DdM(11,I)),e.xp6(4),e.Q6J("disabled",t.miFormulario.invalid))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,x.o,p.mk,p.O5,d.yS,v.Hq,T.H],encapsulation:2}),n})(),S=(()=>{class n{constructor(){this.usernamePattern="^([a-z]+[0-9]{0,3})",this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.namePattern="([a-zA-Z]+) ([a-zA-Z]+)"}equalFields(i,t){return a=>{var l,u,m,f;return(null===(l=a.get(i))||void 0===l?void 0:l.value)!==(null===(u=a.get(t))||void 0===u?void 0:u.value)?(null===(m=a.get(t))||void 0===m||m.setErrors({equalFields:!0}),{equalFields:!0}):(null===(f=a.get(t))||void 0===f||f.setErrors(null),null)}}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var g=s(520),A=s(2340),y=s(4004);let w=(()=>{class n{constructor(i){this.http=i,this.baseUrl=A.N.baseUrl}validate(i){const t=i.value,a=`${this.baseUrl}/auth/user`,l=(new g.LE).set("username",t);return this.http.get(a,{params:l}).pipe((0,y.U)(u=>u.success?null:{userExist:!0}))}}return n.\u0275fac=function(i){return new(i||n)(e.LFG(g.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E=(()=>{class n{constructor(i){this.http=i,this.baseUrl=A.N.baseUrl}validate(i){const t=i.value,a=`${this.baseUrl}/auth/user`,l=(new g.LE).set("email",t);return this.http.get(a,{params:l}).pipe((0,y.U)(u=>u.success?null:{emailExist:!0}))}}return n.\u0275fac=function(i){return new(i||n)(e.LFG(g.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var k=s(1208),J=s(5315),N=s(9783),L=s(3640);function M(n,r){if(1&n&&(e.TgZ(0,"small",30),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Oqu(i.usernameErrorMsg)}}function Y(n,r){if(1&n&&(e.TgZ(0,"small",30),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Oqu(i.nameErrorMsg)}}function Q(n,r){if(1&n&&(e.TgZ(0,"small",30),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Oqu(i.emailErrorMsg)}}function z(n,r){if(1&n&&(e.TgZ(0,"small",30),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Oqu(i.passwordErrorMsg)}}function V(n,r){1&n&&(e.TgZ(0,"small",30),e._uU(1,"Las contrase\xf1as deben ser iguales."),e.qZA())}function P(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"p-button",31),e.NdJ("click",function(){return e.CHM(i),e.oxw().displayModal=!1}),e.qZA()}}function B(n,r){1&n&&(e.TgZ(0,"div",32)(1,"h5",33),e._uU(2,"Ayuda de usuario"),e.qZA(),e.TgZ(3,"span",34),e._uU(4,"\u2022 El usuario debe estar formado de X cantidad de letras seguidas de como mucho 3 n\xfameros."),e.qZA(),e.TgZ(5,"span",34),e._uU(6,"\u2022 No incluir car\xe1cteres especiales -?_* etc. en el usuario."),e.qZA(),e.TgZ(7,"span",34),e._uU(8,"\u2022 La contrase\xf1a debe tener un tama\xf1o m\xednimo de 6 car\xe1cteres."),e.qZA(),e.TgZ(9,"span",34),e._uU(10,"\u2022 No se requiere un patr\xf3n para el Nombre."),e.qZA(),e.TgZ(11,"span",35),e._uU(12,"\u2022 Una vez registrado los datos no podr\xe1n ser actualizados."),e.qZA(),e.TgZ(13,"span",36),e._uU(14,"Mucha suerte!"),e.qZA()())}const c=function(n){return{"ng-invalid ng-dirty":n}},D=function(){return["/auth/login"]},H=function(){return{width:"50vw"}},R=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"flex","justify-content-center","h-screen","align-items-center","px-4","animate__animated","animate__fadeIn","animate__fast"],[1,"p-card",2,"max-width","500px"],[1,"p-card-header","flex","justify-content-center","align-items-center","px-4","py-4","mb-4"],["src","../../../assets/icons/Fairy-Tail.ico","alt","",1,"mr-2","w-4rem"],[1,"text-bluegray-800","text-4xl","anime-text-logo"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"span",4),e._uU(5,"ANIKI"),e.qZA()(),e._UZ(6,"router-outlet"),e.qZA()())},directives:[d.lC],encapsulation:2}),n})(),children:[{path:"login",component:F},{path:"signin",component:(()=>{class n{constructor(i,t,a,l,u,m){this.fb=i,this.validatorSvc=t,this.validatorUser=a,this.validatorEmail=l,this.authSvc=u,this.sweetAlertSvc=m,this.miFormulario=this.fb.group({username:["",[o.kI.required,o.kI.pattern(this.validatorSvc.usernamePattern),o.kI.minLength(5),o.kI.maxLength(12)],[this.validatorUser]],name:["",[o.kI.required]],email:["",[o.kI.required,o.kI.pattern(this.validatorSvc.emailPattern)],[this.validatorEmail]],password:["",[o.kI.required,o.kI.minLength(6)]],repeatPass:["",[o.kI.required,o.kI.minLength(6)]],conditions:[!1,[o.kI.requiredTrue]]},{validators:this.validatorSvc.equalFields("password","repeatPass")})}get usernameErrorMsg(){var i;const t=null===(i=this.miFormulario.get("username"))||void 0===i?void 0:i.errors;return(null==t?void 0:t.required)?"Por favor, ingrese un nombre de usuario.":(null==t?void 0:t.minlength)?"El nombre de usuario debe tener como m\xednimo 5 c\xe1racteres.":(null==t?void 0:t.maxlength)?"El nombre de usuario no puede tener m\xe1s de 12 c\xe1racteres.":(null==t?void 0:t.pattern)?"El nombre de usuario debe tener el formato especificado.":(null==t?void 0:t.userExist)?"El nombre de usuario ya se encuentra en uso.":""}get nameErrorMsg(){var i;const t=null===(i=this.miFormulario.get("name"))||void 0===i?void 0:i.errors;return(null==t?void 0:t.required)?"Por favor, ingrese su nombre completo.":(null==t?void 0:t.pattern)?"El nombre debe tener el formato especificado.":""}get emailErrorMsg(){var i;const t=null===(i=this.miFormulario.get("email"))||void 0===i?void 0:i.errors;return(null==t?void 0:t.required)?"Por favor, ingrese su email.":(null==t?void 0:t.pattern)?"El email debe tener el formato especificado.":(null==t?void 0:t.emailExist)?"Ya existe un usuario con el correo electronico ingresado.":""}get passwordErrorMsg(){var i;const t=null===(i=this.miFormulario.get("password"))||void 0===i?void 0:i.errors;return(null==t?void 0:t.required)?"Por favor, ingrese una contrase\xf1a para el usuario.":(null==t?void 0:t.minlength)?"La contrase\xf1a debe tener como m\xednimo 6 c\xe1racteres.":""}ngOnInit(){}showModalDialog(){this.displayModal=!0}createUser(){this.authSvc.createUser(this.miFormulario.value).subscribe(i=>{i.success?this.sweetAlertSvc.successAlertLogin(i.msg):this.sweetAlertSvc.errorAlertLogin(i.msg)})}inputInvalid(i){var t,a;return(null===(t=this.miFormulario.get(i))||void 0===t?void 0:t.invalid)&&(null===(a=this.miFormulario.get(i))||void 0===a?void 0:a.touched)||!1}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(o.qu),e.Y36(S),e.Y36(w),e.Y36(E),e.Y36(Z.e),e.Y36(b.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-signin"]],decls:62,vars:32,consts:[[1,"p-card-subheader","px-4"],[1,"flex","justify-content-between"],[1,"text-bluegray-800"],["pButton","","pRipple","","icon","fa-regular fa-circle-question",1,"p-button-rounded","p-button-info","p-button-text",3,"click"],["autocomplete","off",1,"grid","p-card-content","px-4","py-4",3,"formGroup"],[1,"col-12"],[1,"p-float-label","p-input-icon-left","w-12"],[1,"fa","fa-user"],["formControlName","username","type","text","pInputText","","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],["for","float-input"],["class","p-error block mt-2",4,"ngIf"],[1,"fa-solid","fa-signature"],["formControlName","name","type","text","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],[1,"fa-solid","fa-at"],["formControlName","email","type","email","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],[1,"fa-solid","fa-key"],["formControlName","password","type","password","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],["formControlName","repeatPass","type","password","pInputText","",1,"w-12","ng-invalid","ng-dirty",3,"ngClass"],[1,"col-12","flex","justify-content-end"],[1,"field-checkbox"],["inputId","binary","formControlName","conditions",3,"binary"],["for","binary",1,"text-bluegray-800"],["pButton","","pRipple","","icon","pi pi-external-link",1,"p-button-info","p-button-text","ml-2",3,"click"],[1,"text-orange-500",3,"routerLink"],["pButton","","pRipple","","icon","fa-solid fa-arrow-right-to-bracket","type","button","label","Registrarse",1,"bg-orange-500",3,"disabled","click"],["header","Condiciones",3,"visible","modal","draggable","resizable","visibleChange"],[1,"m-0"],["pTemplate","footer"],["op",""],["pTemplate",""],[1,"p-error","block","mt-2"],["icon","pi pi-check","type","button","label","Ok","styleClass","p-button-text",3,"click"],[1,"flex","flex-column",2,"width","350px"],[1,"font-bold","text-base","sm:text-base","md:text-lg","lg:text-lg","xl:text-lg","mb-4"],[1,"font-normal","text-sm","sm:text-sm","md:text-base","lg:text-base","xl:text-base","mb-3"],[1,"font-normal","text-sm","sm:text-sm","md:text-base","lg:text-base","xl:text-base","mb-5"],[1,"font-normal","text-sm","sm:text-sm","md:text-base","lg:text-base","xl:text-base","text-right"]],template:function(i,t){if(1&i){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Registrarse para m\xe1s funcionalidades \u{1f680}"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(u){return e.CHM(a),e.MAs(60).toggle(u)}),e.qZA()()(),e.TgZ(5,"form",4)(6,"div",5)(7,"span",6),e._UZ(8,"i",7)(9,"input",8),e.TgZ(10,"label",9),e._uU(11,"Usuario"),e.qZA()(),e.YNc(12,M,2,1,"small",10),e.qZA(),e.TgZ(13,"div",5)(14,"span",6),e._UZ(15,"i",11)(16,"input",12),e.TgZ(17,"label",9),e._uU(18,"Nombre"),e.qZA()(),e.YNc(19,Y,2,1,"small",10),e.qZA(),e.TgZ(20,"div",5)(21,"span",6),e._UZ(22,"i",13)(23,"input",14),e.TgZ(24,"label",9),e._uU(25,"Email"),e.qZA()(),e.YNc(26,Q,2,1,"small",10),e.qZA(),e.TgZ(27,"div",5)(28,"span",6),e._UZ(29,"i",15)(30,"input",16),e.TgZ(31,"label",9),e._uU(32,"Contrase\xf1a"),e.qZA()(),e.YNc(33,z,2,1,"small",10),e.qZA(),e.TgZ(34,"div",5)(35,"span",6),e._UZ(36,"i",15)(37,"input",17),e.TgZ(38,"label",9),e._uU(39,"Repetir contrase\xf1a"),e.qZA()(),e.YNc(40,V,2,0,"small",10),e.qZA(),e.TgZ(41,"div",18)(42,"div",19),e._UZ(43,"p-checkbox",20),e.TgZ(44,"label",21),e._uU(45," T\xe9rminos y condiciones "),e.qZA(),e.TgZ(46,"button",22),e.NdJ("click",function(){return t.showModalDialog()}),e.qZA()()(),e.TgZ(47,"div",5)(48,"span",2),e._uU(49,"\xbfYa tienes una cuenta?"),e.qZA(),e.TgZ(50,"a",23)(51,"span"),e._uU(52," Iniciar sesi\xf3n"),e.qZA()()(),e.TgZ(53,"div",18)(54,"button",24),e.NdJ("click",function(){return t.createUser()}),e.qZA()()(),e.TgZ(55,"p-dialog",25),e.NdJ("visibleChange",function(u){return t.displayModal=u}),e.TgZ(56,"p",26),e._uU(57,"No hay no existen, solo gozalo!!"),e.qZA(),e.YNc(58,P,1,0,"ng-template",27),e.qZA(),e.TgZ(59,"p-overlayPanel",null,28),e.YNc(61,B,15,0,"ng-template",29),e.qZA()}2&i&&(e.xp6(5),e.Q6J("formGroup",t.miFormulario),e.xp6(4),e.Q6J("ngClass",e.VKq(20,c,t.inputInvalid("username"))),e.xp6(3),e.Q6J("ngIf",t.inputInvalid("username")),e.xp6(4),e.Q6J("ngClass",e.VKq(22,c,t.inputInvalid("name"))),e.xp6(3),e.Q6J("ngIf",t.inputInvalid("name")),e.xp6(4),e.Q6J("ngClass",e.VKq(24,c,t.inputInvalid("email"))),e.xp6(3),e.Q6J("ngIf",t.inputInvalid("email")),e.xp6(4),e.Q6J("ngClass",e.VKq(26,c,t.inputInvalid("password"))),e.xp6(3),e.Q6J("ngIf",t.inputInvalid("password")),e.xp6(4),e.Q6J("ngClass",e.VKq(28,c,t.inputInvalid("repeatPass"))),e.xp6(3),e.Q6J("ngIf",t.inputInvalid("repeatPass")),e.xp6(3),e.Q6J("binary",!0),e.xp6(7),e.Q6J("routerLink",e.DdM(30,D)),e.xp6(4),e.Q6J("disabled",t.miFormulario.invalid||t.miFormulario.pending),e.xp6(1),e.Akn(e.DdM(31,H)),e.Q6J("visible",t.displayModal)("modal",!0)("draggable",!1)("resizable",!1))},directives:[v.Hq,T.H,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,x.o,p.mk,p.O5,k.XZ,d.yS,J.V,N.jx,v.zx,L.T],encapsulation:2}),n})()},{path:"**",redirectTo:"login"}]}];let j=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.Bz.forChild(R)],d.Bz]}),n})(),O=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,j,o.UX,C.H]]}),n})()}}]);